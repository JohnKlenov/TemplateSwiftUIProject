//
//  FirestoreError.swift
//  TemplateSwiftUIProject
//
//  Created by Evgenyi on 15.02.26.
//



// MARK: - Firestore —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –º–æ–¥–µ–ª–∏ "local‚Äëfirst"


// Firestore —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –º–æ–¥–µ–ª–∏ "local‚Äëfirst":
// - –æ–ø–µ—Ä–∞—Ü–∏–∏ add/update/delete —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω‚Äë–∫—ç—à
// - listener –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// - Firestore –ø—ã—Ç–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –≤ —Ñ–æ–Ω–µ
//
// –ï—Å–ª–∏ —Å–µ—Ç–∏ –Ω–µ—Ç:
// - Firestore –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É —Å—Ä–∞–∑—É
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º–∏
// - listener –ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
//
// –û—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ –ø–æ–∑–∂–µ (unavailable, deadlineExceeded), –µ—Å–ª–∏ Firestore
// –¥–æ–ª–≥–æ –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ –ù–ï –æ—Ç–º–µ–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
//
// Listener –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω—è–ª –∑–∞–ø—Ä–æ—Å,
// –Ω–æ –∑–∞—Ç–µ–º –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, permission denied).

// –ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–µ–ª –æ—à–∏–±–∫—É –ø—Ä–∏ –æ—Ñ–ª–∞–π–Ω‚Äë—Ä–µ–∂–∏–º–µ Firestore:
//
// Firestore —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω‚Äë–∫—ç—à,
// listener –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–¥–∞—ë—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,
// –∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∑–∂–µ –≤ —Ñ–æ–Ω–µ.
//
// –û—à–∏–±–∫–∏ unavailable / deadlineExceeded –ø—Ä–∏—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞,
// –∫–æ–≥–¥–∞ Firestore –¥–æ–ª–≥–æ –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞.
// –≠—Ç–∏ –æ—à–∏–±–∫–∏ –ù–ï –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.

// –ß—Ç–æ–±—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ª–∏—à–Ω–∏–π Alert:
// - —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ Firestore –ø–æ –∫–æ–¥–∞–º unavailable –∏ deadlineExceeded
// - —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–∂–Ω–æ —Ç–∏—Ö–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤ UI
// - UI –æ—Å—Ç–∞—ë—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º, —Ç–∞–∫ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
//
// Listener –ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏,
// –ø–æ—ç—Ç–æ–º—É —Å–∫—Ä—ã—Ç–∏–µ —ç—Ç–∏—Ö –æ—à–∏–±–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è UX.


// Firestore –∏ –æ—à–∏–±–∫–∏ unavailable / deadlineExceeded:
//
// –≠—Ç–∏ –æ—à–∏–±–∫–∏ –ù–ï –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –ø–æ—Ç–µ—Ä—è–Ω–∞ –∏–ª–∏ –æ—Ç–º–µ–Ω–µ–Ω–∞.
// Firestore —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –º–æ–¥–µ–ª–∏ "local‚Äëfirst":
// 1) setData —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω‚Äë–∫—ç—à
// 2) listener —Å—Ä–∞–∑—É –æ—Ç–¥–∞—ë—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// 3) Firestore —Å—Ç–∞–≤–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
// 4) –µ—Å–ª–∏ —Å–µ—Ç–∏ –Ω–µ—Ç ‚Äî –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π unavailable/deadlineExceeded
//
// –í–ê–ñ–ù–û:
// - –¥–∞–∂–µ –µ—Å–ª–∏ –≤ completion –ø—Ä–∏—à–ª–∞ –æ—à–∏–±–∫–∞ unavailable/deadlineExceeded,
//   Firestore –ù–ï —É–¥–∞–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏
// - –ª–æ–∫–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∫—ç—à–µ
// - Firestore –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—ë –ø–æ–∑–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
// - –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏ –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
//
// –≠—Ç–∏ –æ—à–∏–±–∫–∏ ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –æ—Ñ–ª–∞–π–Ω‚Äë—Ä–µ–∂–∏–º–∞ Firestore,
// –ø–æ—ç—Ç–æ–º—É –∏—Ö –æ–±—ã—á–Ω–æ –ù–ï –ª–æ–≥–∏—Ä—É—é—Ç –∫–∞–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ.
//
// –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞—á–∞—é—Ç,
// —á—Ç–æ –∑–∞–ø–∏—Å—å –ù–ï –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
// permissionDenied, unauthenticated, invalidArgument –∏ —Ç.–ø.
// –¢–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –Ω—É–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å.
//
// –ò—Ç–æ–≥:
// –û—à–∏–±–∫–∏ unavailable/deadlineExceeded –ù–ï –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ç–æ–º—É,
// —á—Ç–æ –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏.
// –ó–∞–ø–∏—Å—å lastActiveAt –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π —É—Å–ø–µ—à–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.


// –ü–æ–≤–µ–¥–µ–Ω–∏–µ Firestore –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö unavailable –∏ deadlineExceeded:
//
// Firestore –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å "local‚Äëfirst":
// 1) –ó–∞–ø–∏—Å—å —Å—Ä–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω‚Äë–∫—ç—à.
// 2) –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
// 3) –û–ø–µ—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
// 4) Firestore –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ.
//
// –ï—Å–ª–∏ —Å–µ—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∏–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ, Firestore –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å
// –æ—à–∏–±–∫–∏:
//   - FirestoreErrorCode.unavailable (14)
//   - FirestoreErrorCode.deadlineExceeded (4)
//
// –í–ê–ñ–ù–û:
// –≠—Ç–∏ –æ—à–∏–±–∫–∏ –ù–ï –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.
// –≠—Ç–∏ –æ—à–∏–±–∫–∏ –ù–ï —É–¥–∞–ª—è—é—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏.
// –≠—Ç–∏ –æ—à–∏–±–∫–∏ –ù–ï –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
//
// Firestore –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:
// - –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
// - –∏ –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω persistence, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
//
// Firestore –ù–ï –∏–º–µ–µ—Ç "—Ñ–∏–Ω–∞–ª—å–Ω–æ–π" –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç:
//   ¬´–Ø —Å–¥–∞—é—Å—å, –±–æ–ª—å—à–µ –Ω–µ –±—É–¥—É –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ¬ª.
// –¢–∞–∫–æ–π –æ—à–∏–±–∫–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
//
// –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ Firestore –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –∏ —É–¥–∞–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é:
//   - —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (permissionDenied, unauthenticated,
//     invalidArgument, failedPrecondition –∏ —Ç.–ø.)
// –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ Firestore –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è,
// –∏ —Å–ª—É—à–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
//
// –ò—Ç–æ–≥:
// - unavailable / deadlineExceeded ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ—Ñ–ª–∞–π–Ω‚Äë–ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∏—Ö –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
// - Firestore –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–æ —É—Å–ø–µ—à–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
// - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–º—É –æ—Ç–∫–∞–∑—É –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏




// MARK: - retryable + fatal error Firestore


// Firestore: –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –ø–æ–≤—Ç–æ—Ä—è—é—Ç –∑–∞–ø–∏—Å—å, –∞ –∫–∞–∫–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –µ—ë –Ω–∞–≤—Å–µ–≥–¥–∞
//
// Firestore –¥–µ–ª–∏—Ç –æ—à–∏–±–∫–∏ –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞:
//
// 1) –ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ (retryable) ‚Äî Firestore –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å.
//    –≠—Ç–∏ –æ—à–∏–±–∫–∏ –ù–ï —É–¥–∞–ª—è—é—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
//    –ó–∞–ø–∏—Å—å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.
//
//    –ö —Ç–∞–∫–∏–º –æ—à–∏–±–∫–∞–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è:
//    - unavailable (14) ‚Äî —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é
//    - deadline_exceeded (4) ‚Äî –∏—Å—Ç–µ–∫ —Ç–∞–π–º–∞—É—Ç
//    - cancelled (1) ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞ –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–±–æ—è
//    - aborted (10) ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–ª–∏ —Å–±–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
//    - resource_exhausted (8) ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫–≤–æ—Ç
//    - internal (13) ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ Firestore
//    - unknown (2) ‚Äî –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞
//    - data_loss (15) ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö
//
//    –ü–æ–≤–µ–¥–µ–Ω–∏–µ: Firestore –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø–∏—Å—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ,
//    –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω persistence).
//
//
// 2) –§–∞—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ (fatal) ‚Äî Firestore –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞–≤—Å–µ–≥–¥–∞.
//    –≠—Ç–∏ –æ—à–∏–±–∫–∏ –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ù–ï –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.
//    Firestore —É–¥–∞–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
//
//    –ö —Ç–∞–∫–∏–º –æ—à–∏–±–∫–∞–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è:
//    - permission_denied (7) ‚Äî –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
//    - unauthenticated (16) ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
//    - invalid_argument (3) ‚Äî –ø–µ—Ä–µ–¥–∞–Ω—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
//    - failed_precondition (9) ‚Äî –Ω–∞—Ä—É—à–µ–Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ
//    - out_of_range (11) ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
//    - already_exists (6) ‚Äî —Ä–µ—Å—É—Ä—Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö)
//    - not_found (5) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, update –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞)
//    - unimplemented (12) ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º
//
//    –ü–æ–≤–µ–¥–µ–Ω–∏–µ: Firestore –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏, –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è,
//    listener –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
//
//
// –ò—Ç–æ–≥:
// - –û—à–∏–±–∫–∏ —Å–µ—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–±–æ–∏ ‚Üí –±–µ–∑–æ–ø–∞—Å–Ω—ã, Firestore –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.
// - –û—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚Üí —Ñ–∞—Ç–∞–ª—å–Ω—ã, –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è.
// - unavailable –∏ deadline_exceeded ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ—Ñ–ª–∞–π–Ω‚Äë–ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∏—Ö –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.








// ===============================
// üîÑ RETRYABLE –û–®–ò–ë–ö–ò FIRESTORE
// Firestore –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
// ===============================


// Retryable‚Äë–æ—à–∏–±–∫–∏ –ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ù–ï —É–¥–∞–ª—è—é—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏.



// FirestoreErrorCode.cancelled (1)
//
// –í Firestore –æ—à–∏–±–∫–∞ "cancelled" –ù–ï –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª –æ–ø–µ—Ä–∞—Ü–∏—é.
// Firestore –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä—É—á–Ω–æ–π –æ—Ç–º–µ–Ω—ã –∑–∞–ø–∏—Å–∏.
//
// –í–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ö gRPC.
// –ù–∞–ø—Ä–∏–º–µ—Ä:
// - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—ã–ª–æ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ
// - Firestore –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ç–µ–≤–æ–π –∫–∞–Ω–∞–ª
// - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—à–ª–æ –≤ —Ñ–æ–Ω –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–±—Ä–æ—Å–∏–ª–æ—Å—å
// - –ø—Ä–æ–∏–∑–æ—à—ë–ª –≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–±–æ–π
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ù–ï —É–¥–∞–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏
// - Firestore –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ–∑–∂–µ


// FirestoreErrorCode.unknown (2)
//
// –ù–µ–æ–ø–æ–∑–Ω–∞–Ω–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞, –æ–±—ã—á–Ω–æ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å —Å–µ—Ç—å—é –∏–ª–∏ gRPC.
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –ø–æ–ø—ã—Ç–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è


// FirestoreErrorCode.deadline_exceeded (4)
//
// –°–µ—Ä–≤–µ—Ä –Ω–µ —É—Å–ø–µ–ª –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç.
// –ß–∞—Å—Ç–æ –≤—ã–∑–≤–∞–Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º.
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏


// FirestoreErrorCode.resource_exhausted (8)
//
// –ü—Ä–µ–≤—ã—à–µ–Ω—ã –∫–≤–æ—Ç—ã –∏–ª–∏ –ª–∏–º–∏—Ç—ã Firestore (–æ–±—ã—á–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ).
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø–æ–≤—Ç–æ—Ä–∏—Ç –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏


// FirestoreErrorCode.aborted (10)
//
// –û–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –∏–∑-–∑–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏–ª–∏ —Å–±–æ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø–æ–≤—Ç–æ—Ä–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏—é
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏


// FirestoreErrorCode.internal (13)
//
// –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ Firestore –∏–ª–∏ gRPC.
// –û–±—ã—á–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è.
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏


// FirestoreErrorCode.unavailable (14)
//
// –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.
// –°–∞–º–∞—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –æ—Ñ–ª–∞–π–Ω‚Äë–æ—à–∏–±–∫–∞.
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è
// - –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ—Ñ–ª–∞–π–Ω‚Äë–ø–æ–≤–µ–¥–µ–Ω–∏–µ


// FirestoreErrorCode.data_loss (15)
//
// –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ç–∏ –∏–ª–∏ gRPC.
// –û–±—ã—á–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è.
//
// –í–ê–ñ–ù–û:
// - –ù–ï —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø–æ–≤—Ç–æ—Ä–∏—Ç –ø–æ–ø—ã—Ç–∫—É
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥–∏







// ===============================
// ‚ùå FATAL –û–®–ò–ë–ö–ò FIRESTORE
// Firestore –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞–≤—Å–µ–≥–¥–∞
// ===============================


// FirestoreErrorCode.invalid_argument (3)
//
// –ö–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, —Ç–∏–ø –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ù–ï –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–∫–∞—Ç–∞–Ω—ã
// - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ


// FirestoreErrorCode.not_found (5)
//
// –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, update –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞).
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ù–ï –±—É–¥–µ—Ç
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è


// FirestoreErrorCode.already_exists (6)
//
// –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ù–ï –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
// - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –∏–ª–∏ –ø—É—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞


// FirestoreErrorCode.permission_denied (7)
//
// –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore –∑–∞–ø—Ä–µ—â–∞—é—Ç –æ–ø–µ—Ä–∞—Ü–∏—é.
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞–≤—Å–µ–≥–¥–∞
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è
// - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞


// FirestoreErrorCode.failed_precondition (9)
//
// –ù–∞—Ä—É—à–µ–Ω–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ.
// –ù–∞–ø—Ä–∏–º–µ—Ä:
// - update –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
// - –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ù–ï –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è


// FirestoreErrorCode.out_of_range (11)
//
// –ó–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø—Ä–µ–¥–µ–ª—ã.
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ù–ï –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
// - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ


// FirestoreErrorCode.unimplemented (12)
//
// –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é.
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ù–ï –±—É–¥–µ—Ç
// - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –∫–ª–∏–µ–Ω—Ç–∞


// FirestoreErrorCode.unauthenticated (16)
//
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫.
//
// –í–ê–ñ–ù–û:
// - —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
// - Firestore –ù–ï –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
// - –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è
// - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è








// –ü–æ—á–µ–º—É –≤ AnonAccountTrackerService –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ unavailable –∏ deadlineExceeded:
//
// –•–æ—Ç—è Firestore –∏–º–µ–µ—Ç –º–Ω–æ–≥–æ retryable‚Äë–æ—à–∏–±–æ–∫, –≤ —ç—Ç–æ–º —Å–µ—Ä–≤–∏—Å–µ –º—ã —Ñ–∏–ª—å—Ç—Ä—É–µ–º
// —Ç–æ–ª—å–∫–æ –¥–≤–µ –∏–∑ –Ω–∏—Ö ‚Äî unavailable –∏ deadlineExceeded ‚Äî –∏ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ.
//
// –≠—Ç–∏ –¥–≤–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ —è–≤–ª—è—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –æ—Ñ–ª–∞–π–Ω‚Äë–ø–æ–≤–µ–¥–µ–Ω–∏–µ–º:
// - unavailable ‚Äî –Ω–µ—Ç —Å–µ—Ç–∏ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
// - deadlineExceeded ‚Äî —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –∑–∞–ø—Ä–æ—Å –Ω–µ —É—Å–ø–µ–ª –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è
//
// –û–Ω–∏ –ù–ï –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –Ω–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. Firestore –ø—Ä–æ–¥–æ–ª–∂–∏—Ç
// —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ—ç—Ç–æ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ:
// —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —à—É–º –∏ –∑–∞—Å–æ—Ä—è–µ—Ç Crashlytics.
//
// –û—Å—Ç–∞–ª—å–Ω—ã–µ retryable‚Äë–æ—à–∏–±–∫–∏ (internal, aborted, resource_exhausted,
// unknown, data_loss –∏ –¥—Ä.) –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Ä–µ–¥–∫–æ –∏ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
// –ø—Ä–æ–±–ª–µ–º—ã: —Å–±–æ–∏ SDK, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫–≤–æ—Ç –∏ —Ç.–ø.
// –ü–æ—ç—Ç–æ–º—É –∏—Ö –≤–∞–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å.
//
// –ò—Ç–æ–≥:
// - unavailable –∏ deadlineExceeded ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ñ–ª–∞–π–Ω‚Äë–æ—à–∏–±–∫–∏, –∏—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º
// - –æ—Å—Ç–∞–ª—å–Ω—ã–µ retryable‚Äë–æ—à–∏–±–∫–∏ ‚Äî —Ä–µ–¥–∫–∏–µ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤–∞–∂–Ω—ã–µ, –∏—Ö –ª–æ–≥–∏—Ä—É–µ–º
// - fatal‚Äë–æ—à–∏–±–∫–∏ (permissionDenied, invalidArgument –∏ –¥—Ä.) –≤—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä—É–µ–º,
//   —Ç–∞–∫ –∫–∞–∫ Firestore –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è






// MARK: -  –†–∞–∑–Ω–∏—Ü–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ Firestore –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –∏ —á—Ç–µ–Ω–∏–∏:




// normalizeFirestoreError –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏
// (add/update/delete). –ü—Ä–∏—á–∏–Ω–∞:
// - –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ Firestore —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ñ–ª–∞–π–Ω‚Äë–∫—ç—à
// - retryable‚Äë–æ—à–∏–±–∫–∏ (unavailable, deadlineExceeded) –æ–∑–Ω–∞—á–∞—é—Ç –ª–∏—à—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ—Ç–∏
// - Firestore –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–∑–∂–µ
// - UI —É–∂–µ –æ–±–Ω–æ–≤–ª—ë–Ω –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
// –ü–æ—ç—Ç–æ–º—É –æ—Ñ–ª–∞–π–Ω‚Äë–æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è "—É—Å–ø–µ—Ö–æ–º".
//
// –ü—Ä–∏ –ß–¢–ï–ù–ò–ò –¥–∞–Ω–Ω—ã—Ö –ª–æ–≥–∏–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥—Ä—É–≥–∞—è:
// - –µ—Å–ª–∏ —á—Ç–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å –æ—à–∏–±–∫–æ–π ‚Äî –¥–∞–Ω–Ω—ã—Ö –ù–ï–¢
// - –æ—Ñ–ª–∞–π–Ω‚Äë–æ—à–∏–±–∫–∏ –Ω–µ–ª—å–∑—è —Å–∫—Ä—ã–≤–∞—Ç—å, –∏–Ω–∞—á–µ UI –ø–æ–∫–∞–∂–µ—Ç –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ "—É—Å–ø–µ—Ö"
// - Firestore –Ω–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à, –µ—Å–ª–∏ –æ–Ω –µ—â—ë –Ω–µ –±—ã–ª –∑–∞–≥—Ä—É–∂–µ–Ω
// –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –õ–Æ–ë–ê–Ø –æ—à–∏–±–∫–∞ (–≤–∫–ª—é—á–∞—è unavailable –∏ deadlineExceeded)
// –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫–∞–∫ –æ—à–∏–±–∫–∞, –±–µ–∑ normalizeFirestoreError.
//
// –ò—Ç–æ–≥:
// - –ó–∞–ø–∏—Å—å: –æ—Ñ–ª–∞–π–Ω‚Äë–æ—à–∏–±–∫–∏ ‚Üí —É—Å–ø–µ—Ö (normalizeFirestoreError –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è)
// - –ß—Ç–µ–Ω–∏–µ: –ª—é–±–∞—è –æ—à–∏–±–∫–∞ ‚Üí –æ—à–∏–±–∫–∞ (normalizeFirestoreError –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)




// Firestore –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Ä–∞–Ω–µ–µ.
// –ú–µ—Ç–æ–¥—ã —á—Ç–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
//
// 1) addSnapshotListener() ‚Äî –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å),
//    –∑–∞—Ç–µ–º –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –∏—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞.
//
// 2) getDocument() / getDocuments() ‚Äî –º–æ–≥—É—Ç –≤–µ—Ä–Ω—É—Ç—å –∫—ç—à,
//    –Ω–æ –µ—Å–ª–∏ –∫—ç—à–∞ –Ω–µ—Ç –∏ —Å–µ—Ç–∏ –Ω–µ—Ç ‚Äî –≤–µ—Ä–Ω—ë—Ç—Å—è –æ—à–∏–±–∫–∞.
//
// 3) source: .cache ‚Äî —á–∏—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –∏–∑ –∫—ç—à–∞, –±–µ–∑ —Å–µ—Ç–∏.
// 4) source: .server ‚Äî —á–∏—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û —Å —Å–µ—Ä–≤–µ—Ä–∞, –∫—ç—à –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.
//
// –í–∞–∂–Ω–æ:
// normalizeFirestoreError –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏.
// –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –ª—é–±–∞—è –æ—à–∏–±–∫–∞ (–≤–∫–ª—é—á–∞—è unavailable/deadlineExceeded)
// –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫–∞–∫ –æ—à–∏–±–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å.
