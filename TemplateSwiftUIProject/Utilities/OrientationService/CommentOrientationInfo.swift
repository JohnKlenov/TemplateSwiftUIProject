//
//  CommentOrientationInfo.swift
//  TemplateSwiftUIProject
//
//  Created by Evgenyi on 3.06.25.
//


// MARK: UIDevice.orientation + GeometryReader

///UIDevice.current.orientation –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∏–º–µ–Ω–Ω–æ –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∞ –Ω–µ –∫ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
///–ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ, –Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –≤ –ª–∞–Ω–¥—à–∞—Ñ—Ç, UIDevice.current.orientation.isLandscape –º–æ–∂–µ—Ç –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–µ—Ä–Ω—É—Ç—å true, —Ö–æ—Ç—è —Å–∞–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏.
///–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ UI –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Size Classes –∏–ª–∏ GeometryReader, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.

//UIInterfaceOrientation (–∏–∑ UIApplication.shared.statusBarOrientation)
///UIInterfaceOrientation ‚Äî —ç—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ API –≤ UIKit, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UIDevice.orientation –∏–ª–∏ windowScene.interfaceOrientation
///–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Ç.–µ. –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç.
///–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—Ç–∏–ª–æ —Å–º–µ–Ω—É –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
///(supportedInterfaceOrientations –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–º), —Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ, –¥–∞–∂–µ –µ—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –≤ landscape.

//–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π layout –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—á–µ—Ä–µ–∑ PreferenceKey, GeometryReader)
///–ï—Å–ª–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞), —Ç–æ —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –ø–æ–≤–æ—Ä–æ—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
///–µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏ –Ω–µ –≤—Ä–∞—â–∞–µ—Ç—Å—è, —Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (GeometryReader —Å PreferenceKey) –±—É–¥–µ—Ç –æ—Ç—Ä–∞–∂–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã UI, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –±—É–¥—É—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.

//–ö–∞–∫ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
///–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Info.plist: –ó–∞–¥–∞–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—Ä–µ—Ç, –≤ Info.plist  –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á UISupportedInterfaceOrientations —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º UIInterfaceOrientationPortrait (–∞ –¥–ª—è iPad ‚Äì –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –ª–∏–±–æ –æ—Ç–¥–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏).
///–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞: –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∞–≤—Ç–æ-–ø–æ–≤–æ—Ä–æ—Ç, –º–æ–∂–Ω–æ –≤ –≤–∞—à–µ–º UIViewController
///–î–ª—è SwiftUI: –•–æ—Ç—è SwiftUI –Ω–∞–ø—Ä—è–º—É—é –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏, –æ–±—ã—á–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫—É Info.plist  –∏–ª–∏ —á–µ—Ä–µ–∑ UIKit-–æ–±—ë—Ä—Ç–∫—É –≤ AppDelegate/SceneDelegate.

///–ï—Å–ª–∏ –≤—ã –∑–∞–ø—Ä–µ—â–∞–µ—Ç–µ –ø–æ–≤–æ—Ä–æ—Ç UI, —Ç–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (GeometryReader / PreferenceKey), —Ç–∞–∫ –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ –¥–ª—è UI –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.
///–û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –º–æ–∂–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è iPad –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –¥–ª—è iPhone ‚Äì –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ù–æ —É—á—Ç–∏—Ç–µ, –µ—Å–ª–∏ –≤—ã –±–ª–æ–∫–∏—Ä—É–µ—Ç–µ —Ä–æ—Ç–µ–π—à–Ω –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö (—á–µ—Ä–µ–∑ Info.plist  –∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—è shouldAutorotate), —Ç–æ —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏, –∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –º–µ–Ω—è—Ç—å—Å—è, –æ—Ç—Ä–∞–∂–∞—è —Ç–æ–ª—å–∫–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∞ –Ω–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.


//–ö–æ–≥–¥–∞ —Ç–æ—á–Ω–æ –Ω—É–∂–µ–Ω GeometryReader (iPad):
///–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç iPad
///–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Split View/Slide Over
///–ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
///–ï—Å–ª–∏ –≤–∞–∂–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –∑–∞–ø—Ä–µ—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π

///–î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ iPhone-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ UIDevice.orientation, –Ω–æ –¥–ª—è production-—Ä–µ—à–µ–Ω–∏—è –ª—É—á—à–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

//–ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ª—å–∫–æ UIDevice.orientation:
///–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è iPhone
///–ù–∞ iPad –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –∫—Ä–æ–º–µ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π
///–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Split View –∏–ª–∏ Slide Over


// MARK: SizeClasses

///Size Classes ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º UIKit, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞. –í SwiftUI –æ–Ω–∏ —Ç–∞–∫–∂–µ –∏–≥—Ä–∞—é—Ç –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å –≤ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–º UI-–¥–∏–∑–∞–π–Ω–µ.
///Size Classes —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –¥–≤—É—Ö –æ—Å—è—Ö: Horizontal Size Class (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è), Vertical Size Class (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è)
///–ö–∞–∂–¥–∞—è –æ—Å—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è: Regular ‚Äî –º–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, Compact ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
///–ü—Ä–∏–º–µ—Ä—ã:
///iPad –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç Regular –≤ –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö. (Split View  –∏  Slide Over –≤–µ–¥—É—Ç —Å–µ–±—è –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ)
///–û–±—ã—á–Ω—ã–µ iPhone (–Ω–µ Plus/Max) –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ ‚Üí wC hR –≤ Landscape (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ) - wC hC
///Pro Max –∏ Plus ‚Üí Portrait (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ) - wC hR Landscape (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ) - wR hC (—à–∏—Ä–æ–∫–∏–π —Ä–µ–∂–∏–º)

///iPad Size Classes
///Size Classes (horizontalSizeClass –∏ verticalSizeClass) –Ω–∞ iPad –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ, —á–µ–º –Ω–∞ iPhone, –∏–∑-–∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Split View, Slide Over –∏ Stage Manager.
///–†–µ–∂–∏–º iPad                      horizontalSizeClass                                       verticalSizeClass   –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

///Full Screen (Portrait)   .     regular                                                            .regular                  –û–±—ã—á–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º
///Full Screen (Landscape)   regular                                                             regular                  –û–±—ã—á–Ω—ã–π –ª–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã–π —Ä–µ–∂–∏–º
///Split View (50/50)  .           regular                                                             regular                  –û–±–µ —á–∞—Å—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç Regular
///Split View (70/30)  .           .regular (–æ—Å–Ω–æ–≤–Ω–∞—è) / .compact (–≤—Ç–æ—Ä–∞—è)        regular                  –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞
///Slide Over  .                      compact                                                            regular                 –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º
///Stage Manager (–æ–∫–Ω–æ)  .   –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å .compact –∏–ª–∏ .regular)

///–í SwiftUI –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @Environment(\.horizontalSizeClass), —á—Ç–æ–±—ã –º–µ–Ω—è—Ç—å UI –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
///–í—ã–≤–æ–¥ Size Classes –¥–∞—é—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ UI, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è iPad –∏ –±–æ–ª—å—à–∏—Ö iPhone. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –º–æ–¥–µ–ª—è–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤.




// MARK: - –ß—Ç–æ –∑–∞ –∑–≤–µ—Ä–∏ ‚Äë Split View, Slide Over, Stage Manager?
///–õ—é–±–æ–µ iPad-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ª—é–±–æ–π —Ä–µ–∂–∏–º –≤ —Ä–µ–∂–∏–º –≤ Info.plist.

///Split View    –≠–∫—Ä–∞–Ω –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–∞ –æ–∫–Ω–∞ (—Ç—Ä–µ–∫–∏ 50/50, 70/30, 30/70). –ú–æ–∂–Ω–æ –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.    –ö–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ—ë UIWindowScene; –µ–≥–æ —Ñ—Ä–µ–π–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å.
///–ú–æ–∂–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–æ–Ω —Ä—É–∫–∞–º–∏? –î–∞! –í Split View –µ—Å—Ç—å –ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞–µ–º—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —à–∏—Ä–∏–Ω—É –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
///–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∏–∑ –ø–æ—Ä—Ç—Ä–µ—Ç–∞ –≤ –ª–∞–Ω–¥—à–∞—Ñ—Ç? –û–±–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è —à–∏—Ä–µ, –Ω–æ –∏—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –ï—Å–ª–∏ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–µ –±—ã–ª–æ 70/30, –≤ –ª–∞–Ω–¥—à–∞—Ñ—Ç–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ—Ç –∂–µ –±–∞–ª–∞–Ω—Å —à–∏—Ä–∏–Ω—ã.UIKit –Ω–µ —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ –Ω–æ–≤–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π, –∞ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–¥–≤–∏–≥–∞–µ—Ç –æ–∫–Ω–∞.
///–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç UIDevice –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Split View? UIDevice.current.orientation  –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–µ–º –∂–µ! –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ iPad —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏, UIDevice.orientation == .portrait, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–ª–æ —É–∑–∫–∏–º. –í–æ—Ç –ø–æ—á–µ–º—É –≤ Split View –Ω–µ–ª—å–∑—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ UIDevice.orientation ‚Äî –≤–µ–¥—å UI —Ä–µ–∞–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–ª—Å—è, –∞ UIDevice –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –≤—Å—ë –∫–∞–∫ —Ä–∞–Ω—å—à–µ.
///DeviceOrientationService —Å–º–æ—Ç—Ä–∏—Ç —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —á–µ—Ä–µ–∑ GeometryReader. –î–∞–∂–µ –µ—Å–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –ø–æ–º–µ–Ω—è–ª–∞—Å—å, UI –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ä–µ–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–µ.

///Slide Over
///–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º Slide Over —Å–µ—Ä–≤–∏—Å –æ—Å–æ–±–æ –Ω–µ –Ω—É–∂–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ:
///–û–∫–Ω–æ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ —Ä–∞–∑–º–µ—Ä–æ–º (‚âà 507 √ó 1024 pt).
///–≠—Ç–æ—Ç —Ä–∞–∑–º–µ—Ä –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Split View, —Ç–æ–≥–¥–∞ —à–∏—Ä–∏–Ω–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è ‚Üí –≤–æ—Ç –≥–¥–µ DeviceOrientationService —Å–Ω–æ–≤–∞ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è.
///UIDevice.orientation –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ Slide Over ‚Äî –æ–Ω–æ ¬´–ø–∞—Ä–∏—Ç¬ª –ø–æ–≤–µ—Ä—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ UI.
///–ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —à–∏—Ä–∏–Ω—ã/–≤—ã—Å–æ—Ç—ã, –∫–∞–∫ –≤ Split View –∏–ª–∏ Stage Manager.
///
///–£–∑–∫–æ–µ –ø–ª–∞–≤–∞—é—â–µ–µ –æ–∫–æ—à–∫–æ, –≥–æ—Ä–¥–æ ¬´–ø–∞—Ä–∏—Ç¬ª –ø–æ–≤–µ—Ä—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä—è—á–µ—Ç—Å—è —Å–±–æ–∫—É —Å–≤–∞–π–ø–æ–º.    –ë—ã—Å—Ç—Ä–æ —á–µ–∫-–Ω—É—Ç—å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –∏–ª–∏ –∑–∞–º–µ—Ç–∫–∏, –Ω–µ –ø–æ–∫–∏–¥–∞—è —Ç–µ–∫—É—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.    –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ –ø–∞—É–∑–µ –Ω–∞ –∑–∞–¥–Ω–µ–º –ø–ª–∞–Ω–µ; Slide Over-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Ñ–æ–∫—É—Å, –Ω–æ —Ä–∞–∑–º–µ—Ä –≤–∞—à–µ–≥–æ –æ–∫–Ω–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.
///–ú–æ–∂–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —Ä—É–∫–∞–º–∏? –ù–µ—Ç, –≤ Slide Over —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.–û–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ –≤–ª–µ–≤–æ –∏–ª–∏ –≤–ø—Ä–∞–≤–æ, –∞ —Ç–∞–∫–∂–µ —Å–≤–µ—Ä–Ω—É—Ç–æ —Å–≤–∞–π–ø–æ–º, –Ω–æ –µ–≥–æ —Ä–∞–∑–º–µ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏.
///–ö–∞–∫ –≤–µ–¥—ë—Ç —Å–µ–±—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∏–∑ –ø–æ—Ä—Ç—Ä–µ—Ç–∞ –≤ –ª–∞–Ω–¥—à–∞—Ñ—Ç?
///–ï—Å–ª–∏ iPad –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –ª–∞–Ω–¥—à–∞—Ñ—Ç, –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è —à–∏—Ä–µ, –Ω–æ –æ–∫–Ω–æ Slide Over –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–∞–∫–∏–º –∂–µ. –ï–≥–æ –ø–æ–∑–∏—Ü–∏—è –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è, –Ω–æ —Ä–∞–∑–º–µ—Ä ‚Äî –Ω–µ—Ç. Slide Over –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è —É–∑–∫–∏–º, –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–æ—Å—å.
///–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç UIDevice –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Slide Over?
///UIDevice.current.orientation –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ iPad, –∞ –Ω–µ Slide Over.
///–†–∞–∑–º–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ Slide Over ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–ª–∞–≤–∞—é—â–µ–µ –æ–∫–Ω–æ.
///–í—ã–≤–æ–¥: Slide Over –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫ –≤ DeviceOrientationService, –Ω–æ –µ—Å–ª–∏ –æ–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —á–∞—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ UI, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É, —Å–∫—Ä—ã–≤–∞—é—â—É—é —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º Slide Over.
///–î–∞! –õ—é–±–æ–µ iPad-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç–æ –≤ Slide Over, –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –∑–∞–ø—Ä–µ—â–∞–µ—Ç —ç—Ç–æ—Ç —Ä–µ–∂–∏–º –≤ Info.plist. üìå –ü—Ä–æ–≤–µ—Ä—å –≤ UISupportedInterfaceOrientations, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç Slide Over.

///Stage Manager (iPadOS 16+)    —ç—Ç–æ –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—è–≤–∏–ª–∞—Å—å –≤ iPadOS 16 –∏ –¥–µ–ª–∞–µ—Ç iPad –ø–æ—Ö–æ–∂–∏–º –Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –Ω–∞—Å—Ç–æ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É.
///–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–∫–æ–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ —Å–≤–æ–±–æ–¥–Ω–æ –º–µ–Ω—è—Ç—å –∏—Ö —Ä–∞–∑–º–µ—Ä—ã.
///–û–∫–Ω–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å, –ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞—Ç—å, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –≤ ¬´–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞¬ª.
///–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞ —Å–∞–º–æ–º iPad, —Ç–∞–∫ –∏ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞ (—Ç–∞–º –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ 6 –æ–∫–æ–Ω!).
///–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω! –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Split View, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ç—è–Ω—É—Ç—å –ª—é–±–æ–π —É–≥–æ–ª –æ–∫–Ω–∞, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è.
///UIScreen.main.bounds –±–æ–ª—å—à–µ –Ω–µ –¥–∞—ë—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ ‚Äî –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GeometryReader.
///–û–∫–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–µ–º –¥–∏—Å–ø–ª–µ–µ ‚Äî –∏ —Ç–æ–≥–¥–∞ –µ–≥–æ —Ñ—Ä–µ–π–º –±—É–¥–µ—Ç —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–∏–º.



// MARK: - bug
//–ü–æ—á–µ–º—É –ø—Ä–∏ –ø–æ–∫–∞–∑–µ sheet/–º–æ–¥–∞–ª–∫–∏ GeometryReader –≤–Ω–µ–∑–∞–ø–Ω–æ –æ—Ç–¥–∞—ë—Ç 361 √ó 782 pt –≤–º–µ—Å—Ç–æ 393 √ó 852 pt
///–ö–æ–≥–¥–∞ .sheet –ø–æ—è–≤–ª—è–µ—Ç—Å—è, UIKit: —Å–æ–∑–¥–∞—ë—Ç –¥–æ—á–µ—Ä–Ω–µ–µ –æ–∫–Ω–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º –∂–∏–≤—ë—Ç —Å–∞–º –ª–∏—Å—Ç; —Å–∂–∏–º–∞–µ—Ç/–æ—Ç–æ–¥–≤–∏–≥–∞–µ—Ç presenting-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (–≤–∞—à WindowGroup) ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã ‚âà16 pt —Å –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –µ–≥–æ –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã –∑–∞ –ª–∏—Å—Ç–æ–º –±—ã–ª–æ –≤–∏–¥–Ω–æ ¬´—Å–ª–æ–π —Ñ–æ–Ω–∞¬ª. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É GeometryReader, –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –∫ ¬´—Å—Ç–∞—Ä–æ–º—É¬ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é, –≤–¥—Ä—É–≥ –≤–∏–¥–∏—Ç —Ä–∞–∑–º–µ—Ä 361 √ó 782,6 pt (393 ‚àí 32 –∏ 852 ‚àí ‚âà70).
///–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ onChange(UIScreen.main.bounds.size) –Ω–∞ iPhone –º–æ–∂–Ω–æ, –ù–∞ iPad –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ geo.size, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –Ω–µ–±–æ–ª—å—à–∏–µ —Å–∫–∞—á–∫–∏ –æ—Ç –º–æ–¥–∞–ª–∫–∏.

//–ù–∞ iPhone —Ç–æ–∂–µ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è —Ä–∞–∑–º–µ—Ä (Split View –≤ landscape)
///–£–ª—É—á—à–µ–Ω–∏–µ: –î–ª—è iPhone —Ç–æ–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å containerSize




// MARK: - the salt of the DeviceOrientationService work

//–¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ - –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å portrait/landscape/square

///–ï–¥–∏–Ω–∞—è ¬´—Ç–æ—á–∫–∞ –ø—Ä–∞–≤–¥—ã¬ª  - –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ—Ä–≥–∞—Ç—å UIDevice, GeometryReader –Ω–∞ –∫–∞–∂–¥–æ–º —ç–∫—Ä–∞–Ω–µ.
///–ì–∏–±—Ä–∏–¥–Ω–∞—è –ª–æ–≥–∏–∫–∞ iPhone / iPad –î–ª—è iPhone —Å–µ—Ä–≤–∏—Å –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø–æ–≤–æ—Ä–æ—Ç –∏–ª–∏ UIScreen.main.bounds, –∞ –¥–ª—è iPad –æ–Ω —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ Split-View –∏ Stage Manager. –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –æ–∫–Ω–æ –≤—Å–µ–≥–¥–∞ full-screen, –Ω–∞ iPad –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å 2/3, 1/2, 1/3 —ç–∫—Ä–∞–Ω–∞.
///–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–æ–≤ (debounce, nonzeroBitCount, –ø—Ä–æ–≤–µ—Ä–∫–∞ isRotationLocked) - –ù–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç –º–æ–¥–∞–ª–æ–∫, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –º–∞–ª–µ–Ω—å–∫–∏—Ö safe-area —Ä—ã–≤–∫–æ–≤.
///KVO-friendly (@Published var orientation) ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ –≤–æ –≤—Å–µ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –≤—å—é.   –ü—Ä–æ—Å—Ç–æ –∫–ª–∞–¥—ë—Ç–µ .environmentObject(orientationService) –∏ –ø–∏—à–µ—Ç–µ @EnvironmentObject var orientationService –≤ –ª—é–±–æ–º —ç–∫—Ä–∞–Ω–µ.

//–ö—É–¥–∞ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç –≤ ¬´–±–æ–µ–≤—ã—Ö¬ª –ø—Ä–æ–µ–∫—Ç–∞—Ö
///1. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å layout —Å–ø–∏—Å–∫–∞/–≥–∞–ª–µ—Ä–µ–∏     swift if orientationService.orientation == .landscape { GridView() } else { ListView() }
///2. –ú–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä—ã/—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–≤–∞—à–∞ –∫–Ω–æ–ø–∫–∞ 300 pt)    swift .frame(maxWidth: orientationService.orientation == .landscape ? 300 : .infinity)
///3. –£–±–∏—Ä–∞—Ç—å/–¥–æ–±–∞–≤–ª—è—Ç—å –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å –Ω–∞ iPad    swift if orientationService.isLandscape { Sidebar() }
///4. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å toolBar/tabBar —Å–Ω–∏–∑—É ‚Üí —Å–ø—Ä–∞–≤–∞ –≤ landscape    .toolbarPlacement(orientationService.isLandscape ? .navigationBarTrailing : .bottomBar)
///5. –ü–æ–¥–≥–æ–Ω—è—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å GeometryReader-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è    –ü—Ä–∏ —Å–º–µ–Ω–µ .orientation –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º aspectRatio, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è.
///6. –í–∏–¥–µ–æ–ø–ª–µ–µ—Ä / –∫–∞–º–µ—Ä–∞ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ full-screen landscape, –¥–∞–∂–µ –µ—Å–ª–∏ UI –ª–æ–∫.    –ü—Ä–∏ .landscape ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ–º VideoPlayerFullScreenView.

//–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
/// –î–µ–±–∞—É–Ω—Å 50‚Äì100 –º—Å –Ω–∞ iPad-resize, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å –∫–∞—Å–∫–∞–¥–Ω—ã–π Layout –ø—Ä–∏ live-–ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü—ã Split-View.
/// –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ: ‚Ä¢ iPhone SE (–±–µ–∑ safe-area —Å–Ω–∏–∑—É), ‚Ä¢ iPhone 15 Pro (Dynamic Island), ‚Ä¢ iPad Split-View 1/3-2/3-full, ‚Ä¢ Stage Manager —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –æ–∫–Ω–æ–º.

//Bottom line(–∏—Ç–æ–≥)
///DeviceOrientationService ‚Äî —ç—Ç–æ —Ç–æ–Ω–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç ¬´—Ö–∞–æ—Ç–∏—á–Ω—ã–µ¬ª —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (UIDevice, window-resize) –≤ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π, —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∏–≥–Ω–∞–ª.
///–û–Ω–∞ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–∞, –∫–æ–≥–¥–∞:
///—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–≤–∞ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã—Ö –ª—ç–π–∞—É—Ç–∞ (–ø–æ—Ä—Ç—Ä–µ—Ç/–ª–∞–Ω–¥—à–∞—Ñ—Ç)
///–Ω–∞–¥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å iPad Split-View –∏ Stage Manager
///—Ö–æ—á–µ—Ç—Å—è, —á—Ç–æ–±—ã –≤–µ—Å—å UI ¬´–∑–Ω–∞–ª¬ª –æ —Å–º–µ–Ω–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞—è—Å—å –Ω–∞ –¥–µ—Å—è—Ç–æ–∫ NotificationCenter-–∫–∞–Ω–∞–ª–æ–≤.

//–ë—É–¥—É—Ç –ª–∏ –ª–∞–≥–∏?
///@Published var orientation –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∫–∞–∂–¥–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–µ View –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä. –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –º–Ω–æ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10+ —ç–∫—Ä–∞–Ω–æ–≤), —Ç–æ –¥–∞, –≤–æ–∑–º–æ–∂–Ω—ã –∏–∑–ª–∏—à–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –Ω–æ –æ–Ω–∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.
///SwiftUI –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞–µ–≤, –Ω–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã: ‚úÖ –ï—Å–ª–∏ –≤—å—é –Ω–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø—Ä—è—Ç–∞–Ω TabView), SwiftUI –Ω–µ –±—É–¥–µ—Ç –∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å. ‚ùå –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–æ 10‚Äì15 —Å–ª–æ–∂–Ω—ã—Ö –≤—å—é, –∫–∞–∂–¥–∞—è —Å onChange / task, –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –ª–∏—à–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è. ‚ùå –ï—Å–ª–∏ —á–∞—Å—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ ‚Äî —Ç—è–∂–µ–ª—ã–µ –≥—Ä–∏–¥—ã/—Å–ø–∏—Å–∫–∏, –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç—ã –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏.
///‚úÖ –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –¥–æ 10 –æ–±—ã—á–Ω—ã—Ö View, –ø—Ä–æ–±–ª–µ–º –Ω–µ –±—É–¥–µ—Ç. ‚úÖ –ï—Å–ª–∏ –º–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤, –≥—Ä–∏–¥–æ–≤, –ª—É—á—à–µ –¥–æ–±–∞–≤–∏—Ç—å debounce. ‚úÖ SwiftUI –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–µ –≤—å—é, —Ç–∞–∫ —á—Ç–æ —Ç–∞–±—ã –∏ –º–æ–¥–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –Ω–µ –Ω–∞–≥—Ä—É–∂–∞—é—Ç —Å–∏—Å—Ç–µ–º—É. ‚úÖ –ü—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä—É—á–Ω–æ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é Combine (CurrentValueSubject).
///–ù–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å 10-15 –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏ –æ–±—ã—á–Ω–æ –≤—Å—ë –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –∏—Ö —Ç—è–∂–µ–ª—ã–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏.
///–ï—Å–ª–∏ –≤ NavigationStack –µ—Å—Ç—å 10 —ç–∫—Ä–∞–Ω–æ–≤ —Å @EnvironmentObject var orientationService, –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ orientationService.orientation, –ø–µ—Ä–µ—Ä–∏—Å—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ—Ç —ç–∫—Ä–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏–º –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.
///SwiftUI —É–º–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º, –∏ —Å–∫—Ä—ã—Ç—ã–µ —ç–∫—Ä–∞–Ω—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ä–∞–∑—É. –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–µ View –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ. –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–Ω—å—à–µ –±—ã–ª —Å–∫—Ä—ã—Ç, –æ–Ω –ø–æ–ª—É—á–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ orientationService.orientation.





// MARK: - Unified Orientation Service

//import SwiftUI
//import UIKit
//import Combine
//
//
//// MARK: - View
//
////WindowGroup { AppRootView(hasSeenOnboarding: hasSeenOnboarding).environmentObject(orientationService).readRootSize { size in orientationService.updateContainerSize(size) } }
//
///// –°–µ—Ä–≤–∏—Å, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –¥–∞–Ω–Ω—ã–µ –æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (–¥–ª—è iPhone)
///// –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–¥–ª—è iPad), —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é.
//class DeviceOrientationService: ObservableObject {
//    enum Orientation: String {
//        case portrait
//        case landscape
//        case square
//    }
//    
//    /// –ü—É–±–ª–∏–∫—É–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –≤—å—é –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
//    @Published private(set) var orientation: Orientation = .portrait {
//        didSet {
//            print("orientation - \(orientation)")
//        }
//    }
//    
//    /// –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è iPad)
//    private var containerSize: CGSize = .zero
//    
//    private var cancellables = Set<AnyCancellable>()
//    
//    /// –ü—Ä–µ–¥–º–µ—Ç –¥–ª—è –¥–µ–±–∞—É–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (–¥–ª—è iPad)
//    private let containerSizeSubject = PassthroughSubject<CGSize, Never>()
//    
//    /// –ü–æ—Ä–æ–≥, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ —Ä–∞–∑–º–µ—Ä—ã –ø–æ—á—Ç–∏ —Ä–∞–≤–Ω—ã (–¥–ª—è "square")
//    private let squareThreshold: CGFloat = 50
//    
//    init() {
//        // –ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ‚Äî iPhone, –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.
//        if UIDevice.current.userInterfaceIdiom == .phone {
//            //updateOrientationForiPhone() // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–Ω–æ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Å—Ç–∞—Ä—Ç–µ –≤ landscape –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç NotificationCenter.default.publisher )
//            NotificationCenter.default.publisher(for: UIDevice.orientationDidChangeNotification)
//                .sink { [weak self] _ in
//                    self?.updateOrientationForiPhone()
//                }
//                .store(in: &cancellables)
//        }
//        
//        // –î–ª—è iPad –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å –¥–µ–±–∞—É–Ω—Å–æ–º,
//        // —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤.
//        if UIDevice.current.userInterfaceIdiom == .pad {
//            containerSizeSubject
//                .debounce(for: .milliseconds(100), scheduler: DispatchQueue.main)
//                .sink { [weak self] size in
//                    self?.containerSize = size
//                    self?.updateOrientationForiPad()
//                }
//                .store(in: &cancellables)
//        }
//    }
//    
//    /// –ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ GeometryReader)
//    /// –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ iPad)
//    func updateContainerSize(_ size: CGSize) {
//        print("geometry.size - \(size)")
//        if UIDevice.current.userInterfaceIdiom == .pad {
//            containerSizeSubject.send(size)
//        }
//    }
//    
//    // MARK: - Orientation Update Methods
//    
//    /// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ –ø–æ–≤–æ—Ä–æ—Ç —ç–∫—Ä–∞–Ω–∞.
//    /// –ó–¥–µ—Å—å –º—ã –ø–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ supportedInterfaceOrientations (–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤ Info.plist –∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ).
//    /// Info.plist (UISupportedInterfaceOrientations*) ‚Äí –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
//    /// application(_:supportedInterfaceOrientationsFor:) –≤ AppDelegate (–µ—Å–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏).
//    /// UIWindow.rootViewController ‚Üí –∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ—Ä—Ö–Ω–∏–π UIViewController (–∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –º–æ–¥–∞–ª—å–Ω–æ) —Å–æ —Å–≤–æ–∏–º supportedInterfaceOrientations.
//    /// –¢–æ –µ—Å—Ç—å isRotationLocked –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω —Å—Ç—Ä–æ–≥–æ –∫ Info.plist: –æ–Ω –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∫–Ω–∞. –í—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏e –ª–∏–±–æ —Å—Ç–∞—Ç–∏—á–Ω–æ (Info.plist), –ª–∏–±–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (—Ä–∞–∑–Ω—ã–µ VC + setNeedsUpdateOfSupportedInterfaceOrientations()).
//    private var isRotationLocked: Bool {
//        UIApplication.shared.supportedInterfaceOrientations(for: nil) == .portrait
//    }
//private var isRotationLocked: Bool {
//    let supportedOrientations = UIApplication.shared.supportedInterfaceOrientations(for: nil)
//    return supportedOrientations == .portrait || supportedOrientations.isSubset(of: .portrait)
//}
//
//    
//    /// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è iPhone.
//    /// –ü—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–≤–æ—Ä–æ—Ç–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç portrait,
//    /// –∏–Ω–∞—á–µ ‚Äî —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
//    /// –µ—Å–ª–∏ –æ—Ä–∏–Ω—Ç–∞—Ü–∏—è .portraitUpsideDown —Ç–æ deviceOrientation.isLandscape –≤–µ—Ä–Ω–µ—Ç .portrait
//    /// –Ω–æ UI —Ä–æ—Å–ø–∞–ª–∞–≥–∞–µ—Ç—Å—è –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –ª–∞–Ω–¥—à–∞–≤—Ç –Ω–æ –≤ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–æ–º portret - –ø–æ—ç—Ç–æ–º—É –º—ã –µ–≥–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏
//    
//    //    private func updateOrientationForiPhone() {
//    //        let newOrientation: Orientation
//    //
//    //        if isRotationLocked {
//    //            newOrientation = .portrait
//    //        } else {
//    //            let deviceOrientation = UIDevice.current.orientation
//    //            if deviceOrientation.isValidInterfaceOrientation {
//    //                newOrientation = deviceOrientation.isLandscape ? .landscape : .portrait
//    //            } else {
//    //                newOrientation = .portrait
//    //            }
//    //        }
//    //
//    //        DispatchQueue.main.async { [weak self] in
//    //            guard let self = self, self.orientation != newOrientation else { return }
//    //            self.orientation = newOrientation
//    //        }
//    //    }
//    private func updateOrientationForiPhone() {
//        let newOrientation: Orientation
//        
//        if isRotationLocked {
//            newOrientation = .portrait
//        } else {
//            let deviceOrientation = UIDevice.current.orientation
//            if deviceOrientation.isValidInterfaceOrientation {
//                switch deviceOrientation {
//                case .landscapeLeft, .landscapeRight, .portraitUpsideDown:
//                    newOrientation = .landscape
//                case .portrait:
//                    newOrientation = .portrait
//                default:
//                    newOrientation = .portrait
//                }
//            } else {
//                newOrientation = .portrait
//            }
//        }
//
//        DispatchQueue.main.async { [weak self] in
//            guard let self = self, self.orientation != newOrientation else { return }
//            self.orientation = newOrientation
//        }
//    }
//
//    
//    /// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è iPad –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
//    /// –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —à–∏—Ä–∏–Ω–æ–π –∏ –≤—ã—Å–æ—Ç–æ–π –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ
//    /// –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ "square" —Ä–µ–∂–∏–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Split View –∏–ª–∏ Stage Manager).
//    private func updateOrientationForiPad() {
//        let width = containerSize.width
//        let height = containerSize.height
//        let newOrientation: Orientation
//        
//        if abs(width - height) < squareThreshold {
//            newOrientation = .square
//        } else {
//            newOrientation = width > height ? .landscape : .portrait
//        }
//        
//        DispatchQueue.main.async { [weak self] in
//            guard let self = self, self.orientation != newOrientation else { return }
//            self.orientation = newOrientation
//        }
//    }
//    
//    deinit {
//        cancellables.forEach { $0.cancel() }
//    }
//}
//
//// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
/////–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–µ–∫—É—â–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ "–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º" –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Ç–æ –µ—Å—Ç—å –∫ —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ UI: .portrait, .portraitUpsideDown, .landscapeLeft –∏ .landscapeRight.
/////–ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ: –ö–æ–≥–¥–∞ –≤—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ —Ç–µ–∫—É—â—É—é –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é —á–µ—Ä–µ–∑ UIDevice.current.orientation, —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –∏ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, .faceUp, .faceDown –∏–ª–∏ .unknown, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–∞–∫–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
/////–°–≤–æ–π—Å—Ç–≤–æ isValidInterfaceOrientation –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ UIDeviceOrientation —Ä–∞–≤–Ω–æ –æ–¥–Ω–æ–º—É –∏–∑ ¬´–≤–∞–ª–∏–¥–Ω—ã—Ö¬ª –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤. –ò–Ω–∞—á–µ ‚Äî false.
//extension UIDeviceOrientation {
//    var isValidInterfaceOrientation: Bool {
//        return self == .portrait ||
//               self == .portraitUpsideDown ||
//               self == .landscapeLeft ||
//               self == .landscapeRight
//    }
//}
////.onChange(of: geo.frame(in: .global).size) { oldSize, newSize
/////–ø–æ—á–µ–º—É –∫–æ–≥–¥–∞ –¥–µ–ª–∞—é —Ä–æ—Ç–∞—Ü–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –ø–æ—Ä—Ç—Ä–µ—Ç–∞ –Ω–∞ –ª–∞–Ω–¥—à–∞–≤—Ç (newSize –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ) –∑–∞—Ç–µ–º —Å –ª–∞–Ω–¥—à–∞–≤—Ç–∞ –≤ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—ã–π –≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏ –ø–æ—Ä—Ç—Ä–µ—Ç (newSize –Ω–µ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç) –∑–∞—Ç–µ–º —Å –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–æ–≥–æ –≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏ –ø–æ—Ä—Ç—Ä–µ—Ç–∞ –≤ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—ã–π –≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏ –ª–∞–Ω–¥—à–∞–≤—Ç (newSize –Ω–µ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç) –∏ –∑–∞—Ç–µ–º —Å –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–æ–≥–æ –≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏ –ª–∞–Ω–¥—à–∞–≤—Ç–∞ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç (newSize –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ) ? –∑–∞ –≤—Å—é —Ä–æ—Ç–∞—Ü–∏—é –ø–æ –∫—Ä—É–≥—É –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–≤–∞ —Ä–∞–∑–∞, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ –±—ã –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–ª –≤—Å–µ–≥–¥–∞?
/////SwiftUI —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ –∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (CGSize ‚Äì Equatable). –ï—Å–ª–∏ –æ–Ω–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç –≤–∞—à–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏ –∫–ª–∞–¥—ë—Ç —Ç—É–¥–∞ (oldSize, newSize).
//
//// MARK: - –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –±–µ–∑ PreferenceKey
///–µ—Å–ª–∏ —Ç—ã –∞–¥–∞–ø—Ç–∏—Ä—É–µ—à—å UI –ø–æ–¥ Split View / Stage Manager, safe area –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–ª–µ–∑–Ω–∞ –∏ –ª—É—á—à–µ –Ω–µ .ignoresSafeArea()
//struct RootSizeReader: ViewModifier {
//    
//    let onChange: (CGSize) -> Void
//    
//    func body(content: Content) -> some View {
//        content
//            .background(
//                GeometryReader { geo in
//                    Color.clear
//                        .ignoresSafeArea()
//                        .onAppear {
//                            onChange(geo.frame(in: .global).size)
//                        }
//                        .onChange(of: geo.frame(in: .global).size) { oldSize, newSize in           // –ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
//                            onChange(newSize)
//                        }
//                }
//                    .ignoresSafeArea()
//            )
//    }
//}
//
//extension View {
//    func readRootSize(_ onChange: @escaping (CGSize) -> Void) -> some View {
//        self.modifier(RootSizeReader(onChange: onChange))
//    }
//}
//










// MARK: - PreferenceKey


///DeviceOrientationModifier –∏–∑–º–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ–Ω –ø—Ä–∏–º–µ–Ω—ë–Ω, –∞ –Ω–µ –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
///–ß—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä: Safe Area (–≤—ã—Ä–µ–∑, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–æ–º–∞) + NavigationBar/Toolbar + TabBar + –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ padding'–∏
///TabView { .. } .modifier(DeviceOrientationModifier()) // ‚Üê –ë—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—ã—Å–æ—Ç—É TabBar

//–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞
///–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω—ã –ø–æ–ª–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞ (–±–µ–∑ —É—á–µ—Ç–∞ safe area –∏ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤):
///ContentView().ignoresSafeArea() // ‚Üê –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º safe area .modifier(DeviceOrientationModifier()) // ‚Üê –¢–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∏–º –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω

//–æ–Ω —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.
//struct DeviceOrientationModifier: ViewModifier {
//    @EnvironmentObject private var orientationService: DeviceOrientationService
//
//    func body(content: Content) -> some View {
//        content
//            .background(
//                GeometryReader { geometry in
//                    Color.clear
//                        .preference(
//                            key: ContainerSizeKey.self,
//                            value: geometry.size
//                        )
//                }
//            )
//            .onPreferenceChange(ContainerSizeKey.self) { size in
//                orientationService.updateContainerSize(size)
//            }
//    }
//}

///// –£–¥–æ–±–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
//extension View {
//    func trackContainerSize() -> some View {
//        modifier(DeviceOrientationModifier())
//    }
//}

//struct ContainerSizeKey: PreferenceKey {
//    static var defaultValue: CGSize = .zero
//    static func reduce(value: inout CGSize, nextValue: () -> CGSize) {
//        value = nextValue()
//    }
//}

// MARK: - old implement DeviceOrientationService

//import Combine
//import SwiftUI
//
//class DeviceOrientationService: ObservableObject {
//    enum Orientation { case portrait, landscape }
//
//    @Published private(set) var orientation: Orientation = .portrait
//    private var cancellables = Set<AnyCancellable>()
//    private var lastContainerSize: CGSize = .zero
//
//    init() {
//        setupOrientationTracking()
//    }
//
//    private func setupOrientationTracking() {
//        // –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
//        NotificationCenter.default.publisher(for: UIDevice.orientationDidChangeNotification)
//            .sink { [weak self] _ in
//                self?.handleDeviceOrientationChange()
//            }
//            .store(in: &cancellables)
//
//        // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
//        updateOrientation()
//    }
//
//    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Ç GeometryReader
//    func updateContainerSize(_ size: CGSize) {
//        print("geometry.size - \(size)")
//        lastContainerSize = size
//        updateOrientation()
//    }
//
//    private func handleDeviceOrientationChange() {
//        guard UIDevice.current.orientation.isValidInterfaceOrientation else { return }
//        updateOrientation()
//    }
//
//    private func updateOrientation() {
//        let newOrientation = calculateOrientation()
//
//        DispatchQueue.main.async {
//            if self.orientation != newOrientation {
//                self.orientation = newOrientation
//            }
//        }
//    }
//
//    private func calculateOrientation() -> Orientation {
//        if UIDevice.current.userInterfaceIdiom == .phone {
//            // –î–ª—è iPhone –¥–æ–≤–µ—Ä—è–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
//            return UIDevice.current.orientation.isLandscape ? .landscape : .portrait
//        } else {
//            // –î–ª—è iPad/Mac –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
//            let isDeviceLandscape = UIDevice.current.orientation.isLandscape
//            let isContainerLandscape = lastContainerSize.width > lastContainerSize.height
//
//            // –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
//            if isDeviceLandscape == isContainerLandscape {
//                return isDeviceLandscape ? .landscape : .portrait
//            } else {
//                // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è iPad
//                return isContainerLandscape ? .landscape : .portrait
//            }
//        }
//    }
//}
//
//
//
//extension UIDeviceOrientation {
//    var isValidInterfaceOrientation: Bool {
//        // –ò—Å–∫–ª—é—á–∞–µ–º –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ, –ª–∏—Ü–µ–≤–æ–µ –≤–Ω–∏–∑ –∏ –≤–≤–µ—Ä—Ö
//        return self == .portrait || self == .portraitUpsideDown || self == .landscapeLeft || self == .landscapeRight
//    }
//}
